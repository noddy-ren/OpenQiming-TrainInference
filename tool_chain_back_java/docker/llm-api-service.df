FROM image.docker.ctbiyi.com/biyi/base-jdk8:1.0.0
#FROM openjdk:8-jdk-alpine
VOLUME /tmp

RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \
echo "Asia/Shanghai" > /etc/timezone

COPY llm-modules/llm-api-service/target/llm-api-service.jar llm-api-service.jar

ENV JAVA_OPTS=""
ENV NACOS_REG_OPTS="--spring.cloud.nacos.discovery.group=llm-dev"
EXPOSE 8810

ENTRYPOINT java ${JAVA_OPTS} -Djava.security.egd=file:/dev/./urandom -jar /llm-api-service.jar ${OPTS}
